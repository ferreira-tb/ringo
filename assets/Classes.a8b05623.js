var M=Object.defineProperty;var V=(o,r,a)=>r in o?M(o,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[r]=a;var x=(o,r,a)=>(V(o,typeof r!="symbol"?r+"":r,a),a);import{d as A,u as F,h as C,B as N,D as T,G as z,o as u,c as d,b as l,l as L,H as R,F as b,m as g,e as f,w as _,a as p,j as q,z as G,T as H,p as $,g as j,q as y,t as E,r as I,_ as K}from"./index.ed7861fd.js";import{u as U}from"./game.e1758bde.js";import{B as v}from"./Button.c941bf8a.js";class J extends Error{constructor(a){super(a);x(this,"name","RingoError")}}const m=o=>($("data-v-4e53669a"),o=o(),j(),o),O=m(()=>l("p",{class:"text-line"},"Classes descrevem a voca\xE7\xE3o de um personagem e suas aptid\xF5es especiais. Hora de escolher a sua.",-1)),P=m(()=>l("p",{class:"text-line small"},[y("Se ficar em d\xFAvida, apenas clique em "),l("span",{class:"bold"},"continuar"),y(".")],-1)),Q=m(()=>l("p",{class:"text-line small"},"A Ringo escolher\xE1 uma classe aleat\xF3ria para voc\xEA.",-1)),W={class:"class-select-area"},X=["disabled","value"],Y={class:"button-area"},Z={key:0,class:"class-info-area"},ee=m(()=>l("h2",null,"Detalhes",-1)),se={class:"class-name-wrapper"},ae=A({__name:"Classes",setup(o){const r=F(),{character:a}=r,k=U(),{classes:w}=k,n=C([]);a.books.forEach(t=>{const s=w.get(t);if(s)for(const[e,c]of s.entries())n.push([e,c,t])});const i=N(null);C(new Map);const S=T(()=>n.length<1||typeof i.value!="number");n.length>0&&n.sort((t,s)=>t[1].localeCompare(s[1],"pt-br"));function h(t,s,e=1){if(typeof t!="number"||typeof s!="number"){if(i.value===null)return;t=i.value;const c=n.find(D=>D[0]===t);if(!c)throw new J("N\xE3o foi poss\xEDvel encontrar a classe na lista.");s=c[2]}a.class.set(t,{book:s,level:e})}function B(){if(a.class.size===0){const t=Math.floor(Math.random()*n.length),s=typeof i.value=="number"?i.value:t;h(n[s][0],n[s][2])}}return z(()=>{const t=(e,c)=>c===e[0],s=new Set;for(const e of a.class.keys())n.some(c=>t(c,e))||s.add(e);s.forEach(e=>a.class.delete(e))}),(t,s)=>(u(),d("section",null,[O,P,Q,l("div",W,[L(l("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e)},[(u(!0),d(b,null,g(n,e=>(u(),d("option",{key:e[0],disabled:p(a).class.has(e[0]),value:e[0]},E(e[1]),9,X))),128))],512),[[R,i.value,void 0,{number:!0}]])]),l("div",Y,[f(v,{disabled:n.length<1,text:"Continuar",onClick:_(B,["prevent"])},null,8,["disabled","onClick"]),f(v,{disabled:p(S),text:"Adicionar classe",onClick:s[1]||(s[1]=_(e=>h(),["prevent"]))},null,8,["disabled"]),f(v,{text:"Voltar",onClick:s[2]||(s[2]=_(e=>p(I).push({name:"create-char-step-2"}),["prevent"]))})]),f(H,{name:"fade",mode:"out-in"},{default:q(()=>[p(a).class.size>0?(u(),d("div",Z,[ee,l("div",se,[(u(!0),d(b,null,g(p(a).class,e=>(u(),d("span",{class:"bold green span-wrapper",key:e[0]},E(e[0]),1))),128))])])):G("",!0)]),_:1})]))}});const le=K(ae,[["__scopeId","data-v-4e53669a"]]);export{le as default};
