var te=Object.defineProperty;var se=(a,e,_)=>e in a?te(a,e,{enumerable:!0,configurable:!0,writable:!0,value:_}):a[e]=_;var L=(a,e,_)=>(se(a,typeof e!="symbol"?e+"":e,_),_);import{d as A,o as t,c as s,b as n,F as g,q as y,t as l,_ as C,x as m,B as b,f as E,C as ne,D as oe,E as ae,u as J,G as re,H as x,a as c,e as w,j as R,T as K,I as ce,p as O,g as U,h as q,J as ie,m as le,K as ue,w as V,r as G,S as de}from"./index.c770b2c0.js";import{a as _e,b as pe,c as he}from"./game.caf39fbe.js";import{B as D}from"./Button.e9826086.js";import{R as P}from"./error.596be0a1.js";const fe={class:"standard-table"},be={class:"bold green-text"},me=A({__name:"Table",props:{content:null},setup(a){const e=a;return(_,o)=>(t(),s("table",fe,[n("tr",null,[(t(!0),s(g,null,y(e.content.th,u=>(t(),s("th",be,l(u),1))),256))]),(t(!0),s(g,null,y(e.content.tr,u=>(t(),s("tr",null,[(t(!0),s(g,null,y(u,I=>(t(),s("td",null,l(I),1))),256))]))),256))]))}});const ge=C(me,[["__scopeId","data-v-153ad0f9"]]),ve={class:"standard-desc-list"},xe={class:"green-text desc-list-title"},ye=A({__name:"DescriptionList",props:{content:null},setup(a){const e=a;return(_,o)=>(t(),s("dl",ve,[(t(!0),s(g,null,y(e.content,u=>(t(),s(g,{key:u[0]},[n("dt",xe,l(u[0]),1),n("dd",null,l(u[1]),1)],64))),128))]))}});const ke=C(ye,[["__scopeId","data-v-96f5f76d"]]),$e={class:"race-ability"},Ee={class:"bold green-text"},Ie={class:"race-ability"},Se={key:1,class:"race-ability-details"},we=A({__name:"RaceAbility",props:{bonus:null},setup(a){const e=a;return(_,o)=>(t(),s("section",null,[n("div",$e,[n("span",Ee,l(`${e.bonus.nome}. `),1),m(" "+l(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(g,{key:0},y(e.bonus.extra,u=>(t(),s("div",Ie,l(u),1))),256)):b("",!0),e.bonus.detalhes?(t(),s("div",Se,[e.bonus.detalhes.tipo==="table"?(t(),E(ge,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):b("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),E(ke,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):b("",!0)])):b("",!0)]))}});const H=C(we,[["__scopeId","data-v-edb9b928"]]),Ae={class:"tooltip-wrapper"},Ce=A({__name:"Tooltip",props:{text:null},setup(a){const e=a;return(_,o)=>(t(),s("div",Ae,[n("div",{class:ne(["tooltip-box",{"hide-tooltip":!e.text}])},l(e.text),3)]))}});const Re=C(Ce,[["__scopeId","data-v-7b4952ea"]]),k=a=>(O("data-v-87371694"),a=a(),U(),a),Le={class:"race-bonuses"},Te=k(()=>n("h2",null,"Detalhes",-1)),Me={key:0,class:"plus-wrapper"},Be=["onClick"],Ve={class:"plus"},De={key:1,class:"minus-wrapper"},je=["onClick"],ze={class:"minus"},Ne={class:"first-title"},Fe=k(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),qe={key:0},Ge=k(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),Pe=k(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),He={key:1},Je=k(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),Ke=k(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Oe=k(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),Ue={key:2},Qe=k(()=>n("h2",null,"Tra\xE7os Raciais",-1)),We=A({__name:"RaceBonuses",props:{raceInfo:null},async setup(a){let e,_;const o=a,u=([e,_]=oe(()=>I()),e=await e,_(),e);async function I(){const h=await(await fetch("/ringo/api/ability.json")).json();if(!Array.isArray(h))throw new P("N\xE3o foi poss\xEDvel obter informa\xE7\xF5es sobre as habilidades.");const r=new Map;return h.forEach(v=>r.set(v.sigla,v)),r}const $=ae(""),{character:d}=J();re(()=>d.race,()=>{$.value=""});const i=x(()=>j("pos")),p=x(()=>j("neg"));class S{constructor(h,r,v){L(this,"name");L(this,"value");L(this,"description");this.name=h,this.value=r,this.description=v}}function j(f){const h=[];for(const[r,v]of Object.entries(o.raceInfo.habilidades)){const B=u.get(r);if(!B)throw new P(`A habilidade "${r}" n\xE3o existe no mapa.`);const F=new S(B.nome,v,B.descricao);(f==="pos"&&Math.sign(v)===1||f==="neg"&&Math.sign(v)===-1)&&h.push(F)}return h}const Q=x(()=>`${o.raceInfo.idade.toLocaleString("pt-br")} anos`),z=x(()=>o.raceInfo.peso?`${o.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),W=x(()=>{const f=o.raceInfo.altura.min,h=o.raceInfo.altura.max,r=`${h.toLocaleString("pt-br")} ${h<2?"metro":"metros"}`;return f?`Entre ${f.toLocaleString("pt-br")} e ${r}`:r}),X=_e(),N=x(()=>X.creatureSize.get(o.raceInfo.tamanho)),Y=x(()=>`${o.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),Z=pe(),ee=x(()=>o.raceInfo.idiomas.map(h=>Z.languages.get(h)).join(", ")),M=x(()=>{const f=o.raceInfo.visao_escuro;return typeof f=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${f.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(f,h)=>(t(),s("section",Le,[Te,n("div",null,[c(i).length>0?(t(),s("div",Me,[(t(!0),s(g,null,y(c(i),r=>(t(),s("span",{class:"bold span-wrapper",onClick:v=>$.value=r.description},[m(l(r.name)+" ",1),n("span",Ve,l(` +${r.value.toString(10)}`),1)],8,Be))),256))])):b("",!0),c(p).length>0?(t(),s("div",De,[(t(!0),s(g,null,y(c(p),r=>(t(),s("span",{class:"bold span-wrapper",onClick:v=>$.value=r.description},[m(l(r.name)+" ",1),n("span",ze,l(` -${r.value.toString(10)}`),1)],8,je))),256))])):b("",!0)]),w(K,{name:"fade",mode:"out-in"},{default:R(()=>[(t(),E(Re,{text:$.value,key:$.value},null,8,["text"]))]),_:1}),n("div",Ne,[Fe,m(l(c(Q)),1)]),c(z)?(t(),s("div",qe,[Ge,m(l(c(z)),1)])):b("",!0),n("div",null,[Pe,m(l(c(W)),1)]),c(N)?(t(),s("div",He,[Je,m(l(c(N)),1)])):b("",!0),n("div",null,[Ke,m(l(c(Y)),1)]),n("div",null,[Oe,m(l(c(ee)),1)]),o.raceInfo.bonus.length>0?(t(),s("div",Ue,[Qe,w(ce,{name:"fade"},{default:R(()=>[c(M)?(t(),E(H,{bonus:c(M),key:c(M).nome},null,8,["bonus"])):b("",!0),(t(!0),s(g,null,y(o.raceInfo.bonus,r=>(t(),s(g,{key:r.id},[c(d).books.includes(r.livro)?(t(),E(H,{key:0,bonus:r},null,8,["bonus"])):b("",!0)],64))),128))]),_:1})])):b("",!0)]))}});const Xe=C(We,[["__scopeId","data-v-87371694"]]),T=a=>(O("data-v-7766d131"),a=a(),U(),a),Ye=T(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Ze=T(()=>n("p",{class:"text-line small"},[m("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),m(".")],-1)),et=T(()=>n("p",{class:"text-line small"},"A Ringo escolher\xE1 uma ra\xE7a aleat\xF3ria para voc\xEA.",-1)),tt={class:"races-area"},st=["value"],nt={class:"button-area"},ot=T(()=>n("span",{class:"green-text italic"},"Carregando...",-1)),at=A({__name:"Races",setup(a){const{character:e}=J(),{races:_}=he(),o=q([]);e.books.forEach(d=>{const i=_.get(d);if(i)for(const[p,S]of i.entries())o.push([p,S,d])});const u=q(new Map);o.length>0&&(Promise.all(e.books.map(async d=>{try{const i=await fetch(`/ringo/api/races/book${d.toString(10)}.json`);if(i.status===404)return;const p=await i.json();Array.isArray(p)&&p.forEach(S=>u.set(S.codigo,S))}catch(i){i instanceof Error&&console.error(i)}})),o.sort((d,i)=>d[1].localeCompare(i[1],"pt-br")));function I(){const d=Math.floor(Math.random()*o.length);e.race.id=o[d][0],e.race.book=o[d][2]}function $(){e.race.id===null&&I(),G.push({name:"create-char-step-3"})}return ie(()=>{const d=i=>e.race.id===i[0]?(e.race.book=i[2],!0):!1;o.some(d)||(e.race.id=null,e.race.book=null)}),(d,i)=>(t(),s("section",null,[Ye,Ze,et,n("div",tt,[le(n("select",{"onUpdate:modelValue":i[0]||(i[0]=p=>c(e).race.id=p)},[(t(!0),s(g,null,y(o,p=>(t(),s("option",{key:p[0],value:p[0]},l(p[1]),9,st))),128))],512),[[ue,c(e).race.id,void 0,{number:!0}]])]),n("div",nt,[w(D,{text:"Continuar",disabled:o.length<1,onClick:V($,["prevent"])},null,8,["disabled","onClick"]),w(D,{text:"Escolha pra mim",disabled:o.length<1,onClick:V(I,["prevent"])},null,8,["disabled","onClick"]),w(D,{text:"Voltar",onClick:i[1]||(i[1]=V(p=>c(G).push({name:"create-char-step-1"}),["prevent"]))})]),w(K,{name:"fade",mode:"out-in"},{default:R(()=>[(t(),E(de,null,{fallback:R(()=>[ot]),default:R(()=>[typeof c(e).race.id=="number"&&u.has(c(e).race.id)?(t(),E(Xe,{key:0,raceInfo:u.get(c(e).race.id)},null,8,["raceInfo"])):b("",!0)]),_:1}))]),_:1})]))}});const dt=C(at,[["__scopeId","data-v-7766d131"]]);export{dt as default};
