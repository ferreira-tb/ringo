var K=Object.defineProperty;var Q=(o,e,a)=>e in o?K(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a;var T=(o,e,a)=>(Q(o,typeof e!="symbol"?e+"":e,a),a);import{d as A,o as t,c as s,b as n,F as g,l as x,t as r,_ as C,m as b,x as m,f as E,y as W,z as X,A as v,a as c,e as S,i as M,T as G,B as Y,p as P,g as U,u as Z,C as j,D as ee,k as te,E as se,w as D,r as ne}from"./index.7ab4b265.js";import{a as oe,b as ae,c as ce,u as re}from"./game.12adc907.js";import{B as z}from"./Button.c995b230.js";const le={class:"standard-table"},ie={class:"bold green-text"},ue=A({__name:"Table",props:{content:null},setup(o){const e=o;return(a,y)=>(t(),s("table",le,[n("tr",null,[(t(!0),s(g,null,x(e.content.th,_=>(t(),s("th",ie,r(_),1))),256))]),(t(!0),s(g,null,x(e.content.tr,_=>(t(),s("tr",null,[(t(!0),s(g,null,x(_,u=>(t(),s("td",null,r(u),1))),256))]))),256))]))}});const de=C(ue,[["__scopeId","data-v-153ad0f9"]]),_e={class:"standard-desc-list"},pe={class:"green-text desc-list-title"},he=A({__name:"DescriptionList",props:{content:null},setup(o){const e=o;return(a,y)=>(t(),s("dl",_e,[(t(!0),s(g,null,x(e.content,_=>(t(),s(g,{key:_[0]},[n("dt",pe,r(_[0]),1),n("dd",null,r(_[1]),1)],64))),128))]))}});const fe=C(he,[["__scopeId","data-v-96f5f76d"]]),be={class:"race-ability"},me={class:"bold green-text"},ge={class:"race-ability"},ve={key:1,class:"race-ability-details"},xe=A({__name:"RaceAbility",props:{bonus:null},setup(o){const e=o;return(a,y)=>(t(),s("section",null,[n("div",be,[n("span",me,r(`${e.bonus.nome}. `),1),b(" "+r(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(g,{key:0},x(e.bonus.extra,_=>(t(),s("div",ge,r(_),1))),256)):m("",!0),e.bonus.detalhes?(t(),s("div",ve,[e.bonus.detalhes.tipo==="table"?(t(),E(de,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),E(fe,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0)])):m("",!0)]))}});const q=C(xe,[["__scopeId","data-v-df80e9b9"]]),ye={class:"tooltip-wrapper"},$e=A({__name:"Tooltip",props:{text:null},setup(o){const e=o;return(a,y)=>(t(),s("div",ye,[n("div",{class:W(["tooltip-box",{"hide-tooltip":!e.text}])},r(e.text),3)]))}});const ke=C($e,[["__scopeId","data-v-7b4952ea"]]),$=o=>(P("data-v-f7b2d182"),o=o(),U(),o),Ie={class:"race-bonuses"},Se=$(()=>n("h2",null,"Detalhes da Ra\xE7a",-1)),Ee={key:0,class:"plus-wrapper"},Ae=["onClick"],Ce={class:"plus"},we={key:1,class:"minus-wrapper"},Le=["onClick"],Re={class:"minus"},Te={class:"first-title"},Be=$(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),Ve={key:0},De=$(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),ze=$(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),Me={key:1},Fe=$(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),Ne=$(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),je=$(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),qe={key:2},Ge=$(()=>n("h2",null,"Habilidades Inatas",-1)),Pe=A({__name:"RaceBonuses",props:{raceInfo:null},setup(o){const e=o,a=oe(),{ability:y}=a;class _{constructor(f,l,k){T(this,"name");T(this,"value");T(this,"description");this.name=f,this.value=l,this.description=k}}const u=X(""),I=v(()=>w("pos")),R=v(()=>w("neg"));function w(h){const f=[];for(const[l,k]of Object.entries(e.raceInfo.habilidades)){const N=new _(y[l].name,k,y[l].description);(h==="pos"&&Math.sign(k)===1||h==="neg"&&Math.sign(k)===-1)&&f.push(N)}return f}const B=v(()=>`${e.raceInfo.idade.toLocaleString("pt-br")} anos`),d=v(()=>e.raceInfo.peso?`${e.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),i=v(()=>{const h=e.raceInfo.altura.min,f=e.raceInfo.altura.max,l=`${f.toLocaleString("pt-br")} ${f<2?"metro":"metros"}`;return h?`Entre ${h.toLocaleString("pt-br")} e ${l}`:l}),p=ae(),L=v(()=>p.creatureSize.get(e.raceInfo.tamanho)),H=v(()=>`${e.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),O=ce(),J=v(()=>e.raceInfo.idiomas.map(f=>O.languages.get(f)).join(", ")),V=v(()=>{const h=e.raceInfo.visao_escuro;return typeof h=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${h.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(h,f)=>(t(),s("section",Ie,[Se,n("div",null,[c(I).length>0?(t(),s("div",Ee,[(t(!0),s(g,null,x(c(I),l=>(t(),s("span",{class:"bold span-wrapper",onClick:k=>u.value=l.description},[b(r(l.name)+" ",1),n("span",Ce,r(` +${l.value.toString(10)}`),1)],8,Ae))),256))])):m("",!0),c(R).length>0?(t(),s("div",we,[(t(!0),s(g,null,x(c(R),l=>(t(),s("span",{class:"bold span-wrapper",onClick:k=>u.value=l.description},[b(r(l.name)+" ",1),n("span",Re,r(` -${l.value.toString(10)}`),1)],8,Le))),256))])):m("",!0)]),S(G,{name:"fade",mode:"out-in"},{default:M(()=>[(t(),E(ke,{text:u.value,key:u.value},null,8,["text"]))]),_:1}),n("div",Te,[Be,b(r(c(B)),1)]),c(d)?(t(),s("div",Ve,[De,b(r(c(d)),1)])):m("",!0),n("div",null,[ze,b(r(c(i)),1)]),c(L)?(t(),s("div",Me,[Fe,b(r(c(L)),1)])):m("",!0),n("div",null,[Ne,b(r(c(H)),1)]),n("div",null,[je,b(r(c(J)),1)]),e.raceInfo.bonus.length>0?(t(),s("div",qe,[Ge,S(Y,{name:"fade"},{default:M(()=>[c(V)?(t(),E(q,{bonus:c(V),key:c(V).nome},null,8,["bonus"])):m("",!0),(t(!0),s(g,null,x(e.raceInfo.bonus,l=>(t(),E(q,{key:l.nome,bonus:l},null,8,["bonus"]))),128))]),_:1})])):m("",!0)]))}});const Ue=C(Pe,[["__scopeId","data-v-f7b2d182"]]),F=o=>(P("data-v-89a4c60a"),o=o(),U(),o),He=F(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Oe=F(()=>n("p",{class:"text-line small"},[b("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),b(".")],-1)),Je=F(()=>n("p",{class:"text-line small"},"Uma ra\xE7a aleat\xF3ria ser\xE1 escolhida para voc\xEA!",-1)),Ke={class:"races-area"},Qe=["value"],We={class:"button-area"},Xe=A({__name:"Races",setup(o){const e=Z(),{character:a}=e,y=re(),{races:_}=y,u=j([]);a.books.forEach(d=>{const i=_.get(d);i&&u.push(...i.entries())}),u.length>0&&(Promise.all(a.books.map(d=>R(d))),u.sort((d,i)=>d[1].localeCompare(i[1],"pt-br")));const I=j(new Map);async function R(d){try{const i=await fetch(`/ringo/api/races/book${d.toString(10)}.json`);if(i.status===404)return;const p=await i.json();Array.isArray(p)&&p.forEach(L=>I.set(L.codigo,L))}catch(i){i instanceof Error&&console.error(i)}}function w(){const d=Math.floor(Math.random()*u.length);a.race=u[d][0]}function B(){a.race===null&&w()}return ee(()=>{u.some(d=>a.race===d[0])||(a.race=null)}),(d,i)=>(t(),s("section",null,[He,Oe,Je,n("div",Ke,[te(n("select",{"onUpdate:modelValue":i[0]||(i[0]=p=>c(a).race=p)},[(t(!0),s(g,null,x(u,p=>(t(),s("option",{key:p[0],value:p[0]},r(p[1]),9,Qe))),128))],512),[[se,c(a).race,void 0,{number:!0}]])]),n("div",We,[S(z,{text:"Continuar",disabled:u.length<1,onClick:D(B,["prevent"])},null,8,["disabled","onClick"]),S(z,{text:"Aleat\xF3rio",disabled:u.length<1,onClick:D(w,["prevent"])},null,8,["disabled","onClick"]),S(z,{text:"Voltar",onClick:i[1]||(i[1]=D(p=>c(ne).push({name:"create-char-step-1"}),["prevent"]))})]),S(G,{name:"fade",mode:"out-in"},{default:M(()=>[typeof c(a).race=="number"&&I.has(c(a).race)?(t(),E(Ue,{key:0,raceInfo:I.get(c(a).race)},null,8,["raceInfo"])):m("",!0)]),_:1})]))}});const st=C(Xe,[["__scopeId","data-v-89a4c60a"]]);export{st as default};
