var A=Object.defineProperty;var L=(t,e,a)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var n=(t,e,a)=>(L(t,typeof e!="symbol"?e+"":e,a),a);import{i as j,d as $,o as i,c as h,b as m,j as b,F as V,k as R,T as q,a as l,t as w,p as B,h as C,_ as I,r as G,l as Q,m as f,q as W,u as _,g as k,v as H,x as y,y as g,z as x,n as T,A as N}from"./index.7354bdf1.js";import{g as U,R as M}from"./helpers.7d540ca3.js";import{B as D}from"./Button.27cdcd0c.js";const J=j("dice",()=>({diceHistory:[]}));class K{constructor(e,a){n(this,"type");n(this,"value");n(this,"other");this.type=a,this.value=this.randomNumber(e),this.other=a==="normal"?null:this.randomNumber(e)}randomNumber(e){return Math.floor(Math.random()*e+1)}}class O{constructor(e,a,u,s){n(this,"date",Date.now());n(this,"dice");n(this,"amount");n(this,"modToSum");n(this,"finalResult");n(this,"text");n(this,"type");n(this,"rolls",[]);this.dice=e,this.amount=a,this.modToSum=u,this.text=U(e,a,u),this.type=s;let v=0;for(;v<a;){v++;const d=new K(e,s);this.rolls.push(d)}if(this.rolls.length===0)throw new M("Nenhum dado foi rolado.");this.finalResult=this.rolls.reduce((d,o)=>d+(()=>{switch(s){case"normal":return o.value;case"vantagem":return o.value>o.other?o.value:o.other;case"desvantagem":return o.value<o.other?o.value:o.other}})(),0)}}const P=t=>(B("data-v-f64cca29"),t=t(),C(),t),X={class:"history-area"},Y=P(()=>l("h2",null,"Hist\xF3rico",-1)),Z={class:"small"},ee=$({__name:"DiceHistory",props:{diceHistory:null},setup(t){function e(a){return`${new Date(a).toLocaleTimeString("pt-br")}`}return(a,u)=>(i(),h("section",X,[Y,m(q,{name:"list"},{default:b(()=>[(i(!0),h(V,null,R(t.diceHistory,s=>(i(),h("div",{key:s.date},[l("span",null,w(`${s.text} = ${s.finalResult}`),1),l("span",Z,w(e(s.date)),1)]))),128))]),_:1})]))}});const te=I(ee,[["__scopeId","data-v-f64cca29"]]),z=t=>(B("data-v-674fd15f"),t=t(),C(),t),ae={class:"dice-roller"},se={class:"result-area"},oe={class:"result-text"},le={class:"mod-area"},ne=z(()=>l("div",null,"Quantidade",-1)),re=z(()=>l("div",null,"Modificador",-1)),ie={class:"radio-area"},ue=["disabled"],de=["disabled"],ce=["disabled"],_e={class:"dice-area"},he=$({__name:"DiceRoller",setup(t){const{diceHistory:e}=J(),a=G({width:"80%",height:"3em",fontSize:"1em",fontWeight:550}),u=Q([2,4,6,8,10,12,20,100]),s=f(null),v=f(1),d=f(0),o=f("normal"),p=W(()=>s.value===null?null:U(s.value,v.value,d.value));function E(){if(s.value===null)throw new M("Nenhum dado foi escolhido.");const S=new O(s.value,v.value,d.value,o.value);for(;e.length>10;)e.pop();e.unshift(S)}return(S,c)=>(i(),h("main",ae,[l("div",se,[l("div",oe,[m(H,{name:"fade",mode:"out-in"},{default:b(()=>[_(p)?(i(),h("span",{key:_(p)},w(_(p)),1)):k("",!0)]),_:1})]),m(D,{class:"roll-button",text:"Rolar",disabled:s.value===null,onClick:E},null,8,["disabled"])]),l("div",le,[ne,re,l("div",ie,[l("label",null,[y(l("input",{type:"radio",value:"normal","onUpdate:modelValue":c[0]||(c[0]=r=>o.value=r),disabled:s.value!==20},null,8,ue),[[g,o.value]]),x(" Normal ")]),l("label",null,[y(l("input",{type:"radio",value:"vantagem","onUpdate:modelValue":c[1]||(c[1]=r=>o.value=r),disabled:s.value!==20},null,8,de),[[g,o.value]]),x(" Vantagem ")]),l("label",null,[y(l("input",{type:"radio",value:"desvantagem","onUpdate:modelValue":c[2]||(c[2]=r=>o.value=r),disabled:s.value!==20},null,8,ce),[[g,o.value]]),x(" Desvantagem ")])])]),l("div",_e,[(i(!0),h(V,null,R(_(u),(r,F)=>(i(),N(D,{style:T(a),text:`D${r}`,key:F,onClick:ve=>s.value=r},null,8,["style","text","onClick"]))),128)),m(D,{text:"Salvos",style:T(a)},null,8,["style"])]),m(H,{name:"fade",mode:"out-in"},{default:b(()=>[_(e).length>0?(i(),N(te,{key:0,diceHistory:_(e)},null,8,["diceHistory"])):k("",!0)]),_:1})]))}});const ge=I(he,[["__scopeId","data-v-674fd15f"]]);export{ge as default};
