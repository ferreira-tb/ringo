var Y=Object.defineProperty;var Z=(a,e,o)=>e in a?Y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var T=(a,e,o)=>(Z(a,typeof e!="symbol"?e+"":e,o),o);import{d as w,o as t,c as s,b as n,F as v,l as x,t as i,_ as A,m as b,x as m,f as E,y as ee,z as te,u as P,A as se,B as g,a as c,e as I,i as M,T as U,C as ne,p as O,g as H,D as F,E as oe,k as ae,G as re,w as V,r as G}from"./index.b23c7f57.js";import{a as ce,b as ie,c as le,u as ue}from"./game.82608d81.js";import{B as D}from"./Button.76593108.js";const de={class:"standard-table"},_e={class:"bold green-text"},pe=w({__name:"Table",props:{content:null},setup(a){const e=a;return(o,y)=>(t(),s("table",de,[n("tr",null,[(t(!0),s(v,null,x(e.content.th,_=>(t(),s("th",_e,i(_),1))),256))]),(t(!0),s(v,null,x(e.content.tr,_=>(t(),s("tr",null,[(t(!0),s(v,null,x(_,l=>(t(),s("td",null,i(l),1))),256))]))),256))]))}});const he=A(pe,[["__scopeId","data-v-153ad0f9"]]),fe={class:"standard-desc-list"},be={class:"green-text desc-list-title"},me=w({__name:"DescriptionList",props:{content:null},setup(a){const e=a;return(o,y)=>(t(),s("dl",fe,[(t(!0),s(v,null,x(e.content,_=>(t(),s(v,{key:_[0]},[n("dt",be,i(_[0]),1),n("dd",null,i(_[1]),1)],64))),128))]))}});const ve=A(me,[["__scopeId","data-v-96f5f76d"]]),ge={class:"race-ability"},xe={class:"bold green-text"},ye={class:"race-ability"},ke={key:1,class:"race-ability-details"},$e=w({__name:"RaceAbility",props:{bonus:null},setup(a){const e=a;return(o,y)=>(t(),s("section",null,[n("div",ge,[n("span",xe,i(`${e.bonus.nome}. `),1),b(" "+i(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(v,{key:0},x(e.bonus.extra,_=>(t(),s("div",ye,i(_),1))),256)):m("",!0),e.bonus.detalhes?(t(),s("div",ke,[e.bonus.detalhes.tipo==="table"?(t(),E(he,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),E(ve,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0)])):m("",!0)]))}});const q=A($e,[["__scopeId","data-v-edb9b928"]]),Se={class:"tooltip-wrapper"},Ie=w({__name:"Tooltip",props:{text:null},setup(a){const e=a;return(o,y)=>(t(),s("div",Se,[n("div",{class:ee(["tooltip-box",{"hide-tooltip":!e.text}])},i(e.text),3)]))}});const Ee=A(Ie,[["__scopeId","data-v-7b4952ea"]]),k=a=>(O("data-v-e4ab2a9e"),a=a(),H(),a),we={class:"race-bonuses"},Ae=k(()=>n("h2",null,"Detalhes",-1)),Ce={key:0,class:"plus-wrapper"},Le=["onClick"],Re={class:"plus"},Te={key:1,class:"minus-wrapper"},Be=["onClick"],Ve={class:"minus"},De={class:"first-title"},Me=k(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),ze={key:0},Ne=k(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),je=k(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),Fe={key:1},Ge=k(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),qe=k(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Pe=k(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),Ue={key:2},Oe=k(()=>n("h2",null,"Tra\xE7os Raciais",-1)),He=w({__name:"RaceBonuses",props:{raceInfo:null},setup(a){const e=a,o=ce(),{ability:y}=o;class _{constructor(f,u,S){T(this,"name");T(this,"value");T(this,"description");this.name=f,this.value=u,this.description=S}}const l=te(""),C=P(),{character:L}=C;se(()=>L.race,()=>{l.value=""});const R=g(()=>r("pos")),d=g(()=>r("neg"));function r(h){const f=[];for(const[u,S]of Object.entries(e.raceInfo.habilidades)){const j=new _(y[u].name,S,y[u].description);(h==="pos"&&Math.sign(S)===1||h==="neg"&&Math.sign(S)===-1)&&f.push(j)}return f}const p=g(()=>`${e.raceInfo.idade.toLocaleString("pt-br")} anos`),$=g(()=>e.raceInfo.peso?`${e.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),J=g(()=>{const h=e.raceInfo.altura.min,f=e.raceInfo.altura.max,u=`${f.toLocaleString("pt-br")} ${f<2?"metro":"metros"}`;return h?`Entre ${h.toLocaleString("pt-br")} e ${u}`:u}),K=ie(),N=g(()=>K.creatureSize.get(e.raceInfo.tamanho)),Q=g(()=>`${e.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),W=le(),X=g(()=>e.raceInfo.idiomas.map(f=>W.languages.get(f)).join(", ")),B=g(()=>{const h=e.raceInfo.visao_escuro;return typeof h=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${h.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(h,f)=>(t(),s("section",we,[Ae,n("div",null,[c(R).length>0?(t(),s("div",Ce,[(t(!0),s(v,null,x(c(R),u=>(t(),s("span",{class:"bold span-wrapper",onClick:S=>l.value=u.description},[b(i(u.name)+" ",1),n("span",Re,i(` +${u.value.toString(10)}`),1)],8,Le))),256))])):m("",!0),c(d).length>0?(t(),s("div",Te,[(t(!0),s(v,null,x(c(d),u=>(t(),s("span",{class:"bold span-wrapper",onClick:S=>l.value=u.description},[b(i(u.name)+" ",1),n("span",Ve,i(` -${u.value.toString(10)}`),1)],8,Be))),256))])):m("",!0)]),I(U,{name:"fade",mode:"out-in"},{default:M(()=>[(t(),E(Ee,{text:l.value,key:l.value},null,8,["text"]))]),_:1}),n("div",De,[Me,b(i(c(p)),1)]),c($)?(t(),s("div",ze,[Ne,b(i(c($)),1)])):m("",!0),n("div",null,[je,b(i(c(J)),1)]),c(N)?(t(),s("div",Fe,[Ge,b(i(c(N)),1)])):m("",!0),n("div",null,[qe,b(i(c(Q)),1)]),n("div",null,[Pe,b(i(c(X)),1)]),e.raceInfo.bonus.length>0?(t(),s("div",Ue,[Oe,I(ne,{name:"fade"},{default:M(()=>[c(B)?(t(),E(q,{bonus:c(B),key:c(B).nome},null,8,["bonus"])):m("",!0),(t(!0),s(v,null,x(e.raceInfo.bonus,u=>(t(),E(q,{key:u.id,bonus:u},null,8,["bonus"]))),128))]),_:1})])):m("",!0)]))}});const Je=A(He,[["__scopeId","data-v-e4ab2a9e"]]),z=a=>(O("data-v-28e615e3"),a=a(),H(),a),Ke=z(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Qe=z(()=>n("p",{class:"text-line small"},[b("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),b(".")],-1)),We=z(()=>n("p",{class:"text-line small"},"Uma ra\xE7a aleat\xF3ria ser\xE1 escolhida para voc\xEA!",-1)),Xe={class:"races-area"},Ye=["value"],Ze={class:"button-area"},et=w({__name:"Races",setup(a){const e=P(),{character:o}=e,y=ue(),{races:_}=y,l=F([]);o.books.forEach(d=>{const r=_.get(d);if(r)for(const[p,$]of r.entries())l.push([p,$,d])});const C=F(new Map);l.length>0&&(Promise.all(o.books.map(async d=>{try{const r=await fetch(`/ringo/api/races/book${d.toString(10)}.json`);if(r.status===404)return;const p=await r.json();Array.isArray(p)&&p.forEach($=>C.set($.codigo,$))}catch(r){r instanceof Error&&console.error(r)}})),l.sort((d,r)=>d[1].localeCompare(r[1],"pt-br")));function L(){const d=Math.floor(Math.random()*l.length);o.race.id=l[d][0],o.race.book=l[d][2]}function R(){o.race.id===null&&L(),G.push({name:"create-char-step-3"})}return oe(()=>{const d=r=>o.race.id===r[0]?(o.race.book=r[2],!0):!1;l.some(d)||(o.race.id=null,o.race.book=null)}),(d,r)=>(t(),s("section",null,[Ke,Qe,We,n("div",Xe,[ae(n("select",{"onUpdate:modelValue":r[0]||(r[0]=p=>c(o).race.id=p)},[(t(!0),s(v,null,x(l,p=>(t(),s("option",{key:p[0],value:p[0]},i(p[1]),9,Ye))),128))],512),[[re,c(o).race.id,void 0,{number:!0}]])]),n("div",Ze,[I(D,{text:"Continuar",disabled:l.length<1,onClick:V(R,["prevent"])},null,8,["disabled","onClick"]),I(D,{text:"Escolha pra mim",disabled:l.length<1,onClick:V(L,["prevent"])},null,8,["disabled","onClick"]),I(D,{text:"Voltar",onClick:r[1]||(r[1]=V(p=>c(G).push({name:"create-char-step-1"}),["prevent"]))})]),I(U,{name:"fade",mode:"out-in"},{default:M(()=>[typeof c(o).race.id=="number"&&C.has(c(o).race.id)?(t(),E(Je,{key:0,raceInfo:C.get(c(o).race.id)},null,8,["raceInfo"])):m("",!0)]),_:1})]))}});const at=A(et,[["__scopeId","data-v-28e615e3"]]);export{at as default};
