var F=Object.defineProperty;var N=(s,r,a)=>r in s?F(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;var v=(s,r,a)=>(N(s,typeof r!="symbol"?r+"":r,a),a);import{d as B,x as C,o as c,c as i,a as l,F as S,l as w,y as I,p as R,g as M,b as d,m as x,t as f,_ as V,u as j,z as $,A as D,k as T,B as L,e as g,w as y,i as U,f as q,T as z,r as G}from"./index.97f829f3.js";import{a as O,u as P}from"./game.5c8c9373.js";import{S as k}from"./StandardButton.1d786bea.js";const H=s=>(R("data-v-11f0d179"),s=s(),M(),s),J=H(()=>d("h2",null,"Detalhes da Ra\xE7a",-1)),K={key:0,class:"div-wrapper"},Q=["data-tooltip"],W={class:"plus"},X={key:1,class:"div-wrapper"},Y={class:"span-wrapper tooltip"},Z={class:"minus"},ee=B({__name:"RaceBonuses",props:{raceInfo:null},setup(s){const r=s,a=O(),{ability:h}=a;class b{constructor(u,e,t){v(this,"name");v(this,"value");v(this,"description");this.name=u,this.value=e,this.description=t}}const o=C(()=>m("pos")),_=C(()=>m("neg"));function m(p){const u=[];for(const[e,t]of Object.entries(r.raceInfo.habilidades)){const n=new b(h[e].name,t,h[e].description);(p==="pos"&&Math.sign(t)===1||p==="neg"&&Math.sign(t)===-1)&&u.push(n)}return u}return(p,u)=>(c(),i("section",null,[J,l(o).length>0?(c(),i("div",K,[(c(!0),i(S,null,w(l(o),e=>(c(),i("span",{class:"span-wrapper tooltip","data-tooltip":e.description},[x(f(e.name)+" ",1),d("span",W,f(` +${e.value.toString(10)}`),1)],8,Q))),256))])):I("",!0),l(_).length>0?(c(),i("div",X,[(c(!0),i(S,null,w(l(_),e=>(c(),i("span",Y,[x(f(e.name)+" ",1),d("span",Z,f(` -${e.value.toString(10)}`),1)]))),256))])):I("",!0)]))}});const te=V(ee,[["__scopeId","data-v-11f0d179"]]),E=s=>(R("data-v-3d9631ff"),s=s(),M(),s),ae=E(()=>d("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),se=E(()=>d("p",{class:"text-line small"},[x("Se ficar em d\xFAvida, apenas clique em "),d("span",{class:"bold"},"Continuar"),x(".")],-1)),oe=E(()=>d("p",{class:"text-line small"},"Uma ra\xE7a aleat\xF3ria ser\xE1 escolhida para voc\xEA!",-1)),ne={class:"races-area"},re=["value"],ce={class:"button-area"},ie=B({__name:"Races",setup(s){const r=j(),{character:a}=r,h=P(),{races:b}=h,o=$([]);a.books.forEach(e=>{const t=b.get(e);t&&o.push(...t.entries())}),o.length>0&&(Promise.all(a.books.map(e=>m(e))),o.sort((e,t)=>e[1].localeCompare(t[1],"pt-br")));const _=$(new Map);async function m(e){try{const t=await fetch(`/ringo/api/races/book${e.toString(10)}.json`);if(t.status===404)return;const n=await t.json();Array.isArray(n)&&n.forEach(A=>_.set(A.codigo,A))}catch(t){t instanceof Error&&console.error(t)}}function p(){const e=Math.floor(Math.random()*o.length);a.race=o[e][0]}function u(){a.race===null&&p()}return D(()=>{o.some(e=>a.race===e[0])||(a.race=null)}),(e,t)=>(c(),i("section",null,[ae,se,oe,d("div",ne,[T(d("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>l(a).race=n)},[(c(!0),i(S,null,w(o,n=>(c(),i("option",{key:n[0],value:n[0]},f(n[1]),9,re))),128))],512),[[L,l(a).race,void 0,{number:!0}]])]),d("div",ce,[g(k,{text:"Continuar",disabled:o.length<1,onClick:y(u,["prevent"])},null,8,["disabled","onClick"]),g(k,{text:"Aleat\xF3rio",disabled:o.length<1,onClick:y(p,["prevent"])},null,8,["disabled","onClick"]),g(k,{text:"Voltar",onClick:t[1]||(t[1]=y(n=>l(G).push({name:"create-char-step-1"}),["prevent"]))})]),g(z,{name:"fade",mode:"out-in"},{default:U(()=>[typeof l(a).race=="number"&&_.has(l(a).race)?(c(),q(te,{key:0,raceInfo:_.get(l(a).race)},null,8,["raceInfo"])):I("",!0)]),_:1})]))}});const _e=V(ie,[["__scopeId","data-v-3d9631ff"]]);export{_e as default};
