var K=Object.defineProperty;var Q=(a,e,s)=>e in a?K(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var E=(a,e,s)=>(Q(a,typeof e!="symbol"?e+"":e,s),s);import{d as R,o as n,c as i,b as t,t as d,m as h,_ as V,x as W,y as X,z as m,a as o,F as A,l as C,A as v,e as S,i as D,f as w,T as G,B as Y,p as P,g as U,u as Z,C as j,D as ee,k as te,E as se,w as z,r as oe}from"./index.161c0dcf.js";import{a as ae,b as ne,c as re,u as ce}from"./game.f4bfdd64.js";import{S as M}from"./StandardButton.e9bc1698.js";const ie={class:"race-ability"},le={class:"bold green-text"},ue=R({__name:"RaceAbility",props:{bonus:null},setup(a){const e=a;return(s,x)=>(n(),i("div",ie,[t("span",le,d(`${e.bonus.nome}. `),1),h(" "+d(e.bonus.efeito),1)]))}});const q=V(ue,[["__scopeId","data-v-6f791729"]]),de={class:"tooltip-wrapper"},pe=R({__name:"Tooltip",props:{text:null},setup(a){const e=a;return(s,x)=>(n(),i("div",de,[t("div",{class:W(["tooltip-box",{"hide-tooltip":!e.text}])},d(e.text),3)]))}});const _e=V(pe,[["__scopeId","data-v-7b4952ea"]]),b=a=>(P("data-v-8b808cc9"),a=a(),U(),a),fe={class:"race-bonuses"},he=b(()=>t("h2",null,"Detalhes da Ra\xE7a",-1)),me={key:0,class:"plus-wrapper"},be=["onClick"],ge={class:"plus"},ve={key:1,class:"minus-wrapper"},xe=["onClick"],ye={class:"minus"},Se={class:"first-title"},Ie=b(()=>t("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),ke={key:0},$e=b(()=>t("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),Ee=b(()=>t("span",{class:"bold span-title green-text"},"Altura:",-1)),Ae={key:1},Ce=b(()=>t("span",{class:"bold span-title green-text"},"Tamanho",-1)),we=b(()=>t("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Re=b(()=>t("span",{class:"bold span-title green-text"},"Idiomas:",-1)),Ve={key:2},Be=b(()=>t("h2",null,"Habilidades Inatas",-1)),Le=R({__name:"RaceBonuses",props:{raceInfo:null},setup(a){const e=a,s=ae(),{ability:x}=s;class B{constructor(f,r,g){E(this,"name");E(this,"value");E(this,"description");this.name=f,this.value=r,this.description=g}}const u=X(""),y=m(()=>I("pos")),$=m(()=>I("neg"));function I(_){const f=[];for(const[r,g]of Object.entries(e.raceInfo.habilidades)){const N=new B(x[r].name,g,x[r].description);(_==="pos"&&Math.sign(g)===1||_==="neg"&&Math.sign(g)===-1)&&f.push(N)}return f}const L=m(()=>`${e.raceInfo.idade.toLocaleString("pt-br")} anos`),l=m(()=>e.raceInfo.peso?`${e.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),c=m(()=>{const _=e.raceInfo.altura.min,f=e.raceInfo.altura.max,r=`${f.toLocaleString("pt-br")} ${f<2?"metro":"metros"}`;return _?`Entre ${_.toLocaleString("pt-br")} e ${r}`:r}),p=ne(),k=m(()=>p.creatureSize.get(e.raceInfo.tamanho)),H=m(()=>`${e.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),O=re(),J=m(()=>e.raceInfo.idiomas.map(f=>O.languages.get(f)).join(", ")),T=m(()=>{const _=e.raceInfo.visao_escuro;return typeof _=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${_.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(_,f)=>(n(),i("section",fe,[he,t("div",null,[o(y).length>0?(n(),i("div",me,[(n(!0),i(A,null,C(o(y),r=>(n(),i("span",{class:"bold span-wrapper",onClick:g=>u.value=r.description},[h(d(r.name)+" ",1),t("span",ge,d(` +${r.value.toString(10)}`),1)],8,be))),256))])):v("",!0),o($).length>0?(n(),i("div",ve,[(n(!0),i(A,null,C(o($),r=>(n(),i("span",{class:"bold span-wrapper",onClick:g=>u.value=r.description},[h(d(r.name)+" ",1),t("span",ye,d(` -${r.value.toString(10)}`),1)],8,xe))),256))])):v("",!0)]),S(G,{name:"fade",mode:"out-in"},{default:D(()=>[(n(),w(_e,{text:u.value,key:u.value},null,8,["text"]))]),_:1}),t("div",Se,[Ie,h(d(o(L)),1)]),o(l)?(n(),i("div",ke,[$e,h(d(o(l)),1)])):v("",!0),t("div",null,[Ee,h(d(o(c)),1)]),o(k)?(n(),i("div",Ae,[Ce,h(d(o(k)),1)])):v("",!0),t("div",null,[we,h(d(o(H)),1)]),t("div",null,[Re,h(d(o(J)),1)]),e.raceInfo.bonus.length>0?(n(),i("div",Ve,[Be,S(Y,{name:"fade"},{default:D(()=>[o(T)?(n(),w(q,{bonus:o(T),key:o(T).nome},null,8,["bonus"])):v("",!0),(n(!0),i(A,null,C(e.raceInfo.bonus,r=>(n(),w(q,{key:r.nome,bonus:r},null,8,["bonus"]))),128))]),_:1})])):v("",!0)]))}});const Te=V(Le,[["__scopeId","data-v-8b808cc9"]]),F=a=>(P("data-v-47fea984"),a=a(),U(),a),ze=F(()=>t("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Me=F(()=>t("p",{class:"text-line small"},[h("Se ficar em d\xFAvida, apenas clique em "),t("span",{class:"bold"},"continuar"),h(".")],-1)),De=F(()=>t("p",{class:"text-line small"},"Uma ra\xE7a aleat\xF3ria ser\xE1 escolhida para voc\xEA!",-1)),Fe={class:"races-area"},Ne=["value"],je={class:"button-area"},qe=R({__name:"Races",setup(a){const e=Z(),{character:s}=e,x=ce(),{races:B}=x,u=j([]);s.books.forEach(l=>{const c=B.get(l);c&&u.push(...c.entries())}),u.length>0&&(Promise.all(s.books.map(l=>$(l))),u.sort((l,c)=>l[1].localeCompare(c[1],"pt-br")));const y=j(new Map);async function $(l){try{const c=await fetch(`/ringo/api/races/book${l.toString(10)}.json`);if(c.status===404)return;const p=await c.json();Array.isArray(p)&&p.forEach(k=>y.set(k.codigo,k))}catch(c){c instanceof Error&&console.error(c)}}function I(){const l=Math.floor(Math.random()*u.length);s.race=u[l][0]}function L(){s.race===null&&I()}return ee(()=>{u.some(l=>s.race===l[0])||(s.race=null)}),(l,c)=>(n(),i("section",null,[ze,Me,De,t("div",Fe,[te(t("select",{"onUpdate:modelValue":c[0]||(c[0]=p=>o(s).race=p)},[(n(!0),i(A,null,C(u,p=>(n(),i("option",{key:p[0],value:p[0]},d(p[1]),9,Ne))),128))],512),[[se,o(s).race,void 0,{number:!0}]])]),t("div",je,[S(M,{text:"Continuar",disabled:u.length<1,onClick:z(L,["prevent"])},null,8,["disabled","onClick"]),S(M,{text:"Aleat\xF3rio",disabled:u.length<1,onClick:z(I,["prevent"])},null,8,["disabled","onClick"]),S(M,{text:"Voltar",onClick:c[1]||(c[1]=z(p=>o(oe).push({name:"create-char-step-1"}),["prevent"]))})]),S(G,{name:"fade",mode:"out-in"},{default:D(()=>[typeof o(s).race=="number"&&y.has(o(s).race)?(n(),w(Te,{key:0,raceInfo:y.get(o(s).race)},null,8,["raceInfo"])):v("",!0)]),_:1})]))}});const Oe=V(qe,[["__scopeId","data-v-47fea984"]]);export{Oe as default};
