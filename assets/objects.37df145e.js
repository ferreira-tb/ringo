var d=Object.defineProperty;var p=(i,s,e)=>s in i?d(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var l=(i,s,e)=>(p(i,typeof s!="symbol"?s+"":s,e),e);import{E as f,G as x,k as n}from"./index.bd8e0be9.js";import{R as u,g as v,r as h}from"./helpers.42634f98.js";const V=f("dice",()=>{const i=[],s=new Map,e=x([2,4,6,8,10,12,20,100]),t=n(null),o=n(1),r=n(0),a=n("normal");return{diceHistory:i,diceCollection:s,diceTypes:e,chosenDice:t,diceAmount:o,modifier:r,rollType:a}});class w{constructor(s,e){l(this,"type");l(this,"value");l(this,"other");this.type=e;const t=h(s),o=h(s);if(e==="normal")this.value=t,this.other=null;else if(e==="vantagem")this.value=t>=o?t:o,this.other=t>=o?o:t;else if(e==="desvantagem")this.value=t<=o?t:o,this.other=t<=o?o:t;else throw new u("O tipo \xE9 inv\xE1lido.")}}const E=["date","dice","amount","modToSum","minValue","maxValue","text","type"];class y{constructor(s,e,t,o){l(this,"date",Date.now());l(this,"dice");l(this,"amount");l(this,"modToSum");l(this,"minValue");l(this,"maxValue");l(this,"text");l(this,"type");this.dice=s,this.amount=e,this.modToSum=t,this.minValue=e+t,this.maxValue=s*e+t,this.text=v(s,e,t),this.type=s===20?o:"normal"}}class T extends y{constructor(e,t,o,r){super(e,t,o,r);l(this,"finalResult");l(this,"rolls",[]);let a=0;for(;a<t;){a++;const c=new w(e,this.type);this.rolls.push(c)}if(this.rolls.length===0)throw new u("Nenhum dado foi rolado.");this.finalResult=this.rolls.reduce((c,m)=>c+m.value,this.modToSum)}}export{y as D,T as a,E as d,V as u};
