var Z=Object.defineProperty;var ee=(a,e,_)=>e in a?Z(a,e,{enumerable:!0,configurable:!0,writable:!0,value:_}):a[e]=_;var R=(a,e,_)=>(ee(a,typeof e!="symbol"?e+"":e,_),_);import{d as w,o as t,c as s,b as n,F as g,m as x,t as l,_ as A,q as m,A as f,f as I,B as te,C as se,D as ne,u as P,E as oe,G as v,a as c,e as E,j as C,T as H,H as ae,p as J,g as O,h as F,I as ce,l as re,J as ie,w as V,S as le,r as q}from"./index.0c540d12.js";import{a as ue,b as de,c as _e}from"./game.6cfac83a.js";import{B as D}from"./Button.abe25af2.js";const pe={class:"standard-table"},he={class:"bold green-text"},fe=w({__name:"Table",props:{content:null},setup(a){const e=a;return(_,o)=>(t(),s("table",pe,[n("tr",null,[(t(!0),s(g,null,x(e.content.th,d=>(t(),s("th",he,l(d),1))),256))]),(t(!0),s(g,null,x(e.content.tr,d=>(t(),s("tr",null,[(t(!0),s(g,null,x(d,S=>(t(),s("td",null,l(S),1))),256))]))),256))]))}});const be=A(fe,[["__scopeId","data-v-153ad0f9"]]),me={class:"standard-desc-list"},ge={class:"green-text desc-list-title"},ve=w({__name:"DescriptionList",props:{content:null},setup(a){const e=a;return(_,o)=>(t(),s("dl",me,[(t(!0),s(g,null,x(e.content,d=>(t(),s(g,{key:d[0]},[n("dt",ge,l(d[0]),1),n("dd",null,l(d[1]),1)],64))),128))]))}});const xe=A(ve,[["__scopeId","data-v-96f5f76d"]]),ye={class:"race-ability"},ke={class:"bold green-text"},$e={class:"race-ability"},Ie={key:1,class:"race-ability-details"},Se=w({__name:"RaceAbility",props:{bonus:null},setup(a){const e=a;return(_,o)=>(t(),s("section",null,[n("div",ye,[n("span",ke,l(`${e.bonus.nome}. `),1),m(" "+l(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(g,{key:0},x(e.bonus.extra,d=>(t(),s("div",$e,l(d),1))),256)):f("",!0),e.bonus.detalhes?(t(),s("div",Ie,[e.bonus.detalhes.tipo==="table"?(t(),I(be,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):f("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),I(xe,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):f("",!0)])):f("",!0)]))}});const G=A(Se,[["__scopeId","data-v-edb9b928"]]),Ee={class:"tooltip-wrapper"},we=w({__name:"Tooltip",props:{text:null},setup(a){const e=a;return(_,o)=>(t(),s("div",Ee,[n("div",{class:te(["tooltip-box",{"hide-tooltip":!e.text}])},l(e.text),3)]))}});const Ae=A(we,[["__scopeId","data-v-7b4952ea"]]),y=a=>(J("data-v-70b10537"),a=a(),O(),a),Ce={class:"race-bonuses"},Re=y(()=>n("h2",null,"Detalhes",-1)),Le={key:0,class:"plus-wrapper"},Te=["onClick"],Be={class:"plus"},Ve={key:1,class:"minus-wrapper"},De=["onClick"],Me={class:"minus"},je={class:"first-title"},ze=y(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),Ne={key:0},Fe=y(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),qe=y(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),Ge={key:1},Pe=y(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),He=y(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Je=y(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),Oe={key:2},Ue=y(()=>n("h2",null,"Tra\xE7os Raciais",-1)),Ke=w({__name:"RaceBonuses",props:{raceInfo:null},async setup(a){let e,_;const o=a,d=([e,_]=se(()=>S()),e=await e,_(),e);async function S(){return await(await fetch("/ringo/api/ability.json")).json()}class T{constructor(b,i,$){R(this,"name");R(this,"value");R(this,"description");this.name=b,this.value=i,this.description=$}}const u=ne(""),{character:r}=P();oe(()=>r.race,()=>{u.value=""});const p=v(()=>M("pos")),k=v(()=>M("neg"));function M(h){const b=[];for(const[i,$]of Object.entries(o.raceInfo.habilidades)){const N=new T(d[i].nome,$,d[i].descricao);(h==="pos"&&Math.sign($)===1||h==="neg"&&Math.sign($)===-1)&&b.push(N)}return b}const U=v(()=>`${o.raceInfo.idade.toLocaleString("pt-br")} anos`),j=v(()=>o.raceInfo.peso?`${o.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),K=v(()=>{const h=o.raceInfo.altura.min,b=o.raceInfo.altura.max,i=`${b.toLocaleString("pt-br")} ${b<2?"metro":"metros"}`;return h?`Entre ${h.toLocaleString("pt-br")} e ${i}`:i}),Q=ue(),z=v(()=>Q.creatureSize.get(o.raceInfo.tamanho)),W=v(()=>`${o.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),X=de(),Y=v(()=>o.raceInfo.idiomas.map(b=>X.languages.get(b)).join(", ")),B=v(()=>{const h=o.raceInfo.visao_escuro;return typeof h=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${h.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(h,b)=>(t(),s("section",Ce,[Re,n("div",null,[c(p).length>0?(t(),s("div",Le,[(t(!0),s(g,null,x(c(p),i=>(t(),s("span",{class:"bold span-wrapper",onClick:$=>u.value=i.description},[m(l(i.name)+" ",1),n("span",Be,l(` +${i.value.toString(10)}`),1)],8,Te))),256))])):f("",!0),c(k).length>0?(t(),s("div",Ve,[(t(!0),s(g,null,x(c(k),i=>(t(),s("span",{class:"bold span-wrapper",onClick:$=>u.value=i.description},[m(l(i.name)+" ",1),n("span",Me,l(` -${i.value.toString(10)}`),1)],8,De))),256))])):f("",!0)]),E(H,{name:"fade",mode:"out-in"},{default:C(()=>[(t(),I(Ae,{text:u.value,key:u.value},null,8,["text"]))]),_:1}),n("div",je,[ze,m(l(c(U)),1)]),c(j)?(t(),s("div",Ne,[Fe,m(l(c(j)),1)])):f("",!0),n("div",null,[qe,m(l(c(K)),1)]),c(z)?(t(),s("div",Ge,[Pe,m(l(c(z)),1)])):f("",!0),n("div",null,[He,m(l(c(W)),1)]),n("div",null,[Je,m(l(c(Y)),1)]),o.raceInfo.bonus.length>0?(t(),s("div",Oe,[Ue,E(ae,{name:"fade"},{default:C(()=>[c(B)?(t(),I(G,{bonus:c(B),key:c(B).nome},null,8,["bonus"])):f("",!0),(t(!0),s(g,null,x(o.raceInfo.bonus,i=>(t(),s(g,{key:i.id},[c(r).books.includes(i.livro)?(t(),I(G,{key:0,bonus:i},null,8,["bonus"])):f("",!0)],64))),128))]),_:1})])):f("",!0)]))}});const Qe=A(Ke,[["__scopeId","data-v-70b10537"]]),L=a=>(J("data-v-7766d131"),a=a(),O(),a),We=L(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Xe=L(()=>n("p",{class:"text-line small"},[m("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),m(".")],-1)),Ye=L(()=>n("p",{class:"text-line small"},"A Ringo escolher\xE1 uma ra\xE7a aleat\xF3ria para voc\xEA.",-1)),Ze={class:"races-area"},et=["value"],tt={class:"button-area"},st=L(()=>n("span",{class:"green-text italic"},"Carregando...",-1)),nt=w({__name:"Races",setup(a){const{character:e}=P(),{races:_}=_e(),o=F([]);e.books.forEach(u=>{const r=_.get(u);if(r)for(const[p,k]of r.entries())o.push([p,k,u])});const d=F(new Map);o.length>0&&(Promise.all(e.books.map(async u=>{try{const r=await fetch(`/ringo/api/races/book${u.toString(10)}.json`);if(r.status===404)return;const p=await r.json();Array.isArray(p)&&p.forEach(k=>d.set(k.codigo,k))}catch(r){r instanceof Error&&console.error(r)}})),o.sort((u,r)=>u[1].localeCompare(r[1],"pt-br")));function S(){const u=Math.floor(Math.random()*o.length);e.race.id=o[u][0],e.race.book=o[u][2]}function T(){e.race.id===null&&S(),q.push({name:"create-char-step-3"})}return ce(()=>{const u=r=>e.race.id===r[0]?(e.race.book=r[2],!0):!1;o.some(u)||(e.race.id=null,e.race.book=null)}),(u,r)=>(t(),s("section",null,[We,Xe,Ye,n("div",Ze,[re(n("select",{"onUpdate:modelValue":r[0]||(r[0]=p=>c(e).race.id=p)},[(t(!0),s(g,null,x(o,p=>(t(),s("option",{key:p[0],value:p[0]},l(p[1]),9,et))),128))],512),[[ie,c(e).race.id,void 0,{number:!0}]])]),n("div",tt,[E(D,{text:"Continuar",disabled:o.length<1,onClick:V(T,["prevent"])},null,8,["disabled","onClick"]),E(D,{text:"Escolha pra mim",disabled:o.length<1,onClick:V(S,["prevent"])},null,8,["disabled","onClick"]),E(D,{text:"Voltar",onClick:r[1]||(r[1]=V(p=>c(q).push({name:"create-char-step-1"}),["prevent"]))})]),E(H,{name:"fade",mode:"out-in"},{default:C(()=>[(t(),I(le,null,{fallback:C(()=>[st]),default:C(()=>[typeof c(e).race.id=="number"&&d.has(c(e).race.id)?(t(),I(Qe,{key:0,raceInfo:d.get(c(e).race.id)},null,8,["raceInfo"])):f("",!0)]),_:1}))]),_:1})]))}});const it=A(nt,[["__scopeId","data-v-7766d131"]]);export{it as default};
