var Y=Object.defineProperty;var Z=(a,e,o)=>e in a?Y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var T=(a,e,o)=>(Z(a,typeof e!="symbol"?e+"":e,o),o);import{d as A,o as t,c as s,b as n,F as v,m as x,t as l,_ as w,q as m,z as h,f as E,A as ee,B as te,u as P,C as se,D as g,a as c,e as I,j as M,T as H,E as ne,p as O,g as U,h as F,G as oe,l as ae,H as ce,w as V,r as q}from"./index.ed7861fd.js";import{a as re,b as ie,c as le,u as ue}from"./game.e1758bde.js";import{B as D}from"./Button.c941bf8a.js";const de={class:"standard-table"},_e={class:"bold green-text"},pe=A({__name:"Table",props:{content:null},setup(a){const e=a;return(o,y)=>(t(),s("table",de,[n("tr",null,[(t(!0),s(v,null,x(e.content.th,_=>(t(),s("th",_e,l(_),1))),256))]),(t(!0),s(v,null,x(e.content.tr,_=>(t(),s("tr",null,[(t(!0),s(v,null,x(_,u=>(t(),s("td",null,l(u),1))),256))]))),256))]))}});const he=w(pe,[["__scopeId","data-v-153ad0f9"]]),fe={class:"standard-desc-list"},be={class:"green-text desc-list-title"},me=A({__name:"DescriptionList",props:{content:null},setup(a){const e=a;return(o,y)=>(t(),s("dl",fe,[(t(!0),s(v,null,x(e.content,_=>(t(),s(v,{key:_[0]},[n("dt",be,l(_[0]),1),n("dd",null,l(_[1]),1)],64))),128))]))}});const ve=w(me,[["__scopeId","data-v-96f5f76d"]]),ge={class:"race-ability"},xe={class:"bold green-text"},ye={class:"race-ability"},ke={key:1,class:"race-ability-details"},$e=A({__name:"RaceAbility",props:{bonus:null},setup(a){const e=a;return(o,y)=>(t(),s("section",null,[n("div",ge,[n("span",xe,l(`${e.bonus.nome}. `),1),m(" "+l(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(v,{key:0},x(e.bonus.extra,_=>(t(),s("div",ye,l(_),1))),256)):h("",!0),e.bonus.detalhes?(t(),s("div",ke,[e.bonus.detalhes.tipo==="table"?(t(),E(he,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):h("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),E(ve,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):h("",!0)])):h("",!0)]))}});const G=w($e,[["__scopeId","data-v-edb9b928"]]),Se={class:"tooltip-wrapper"},Ie=A({__name:"Tooltip",props:{text:null},setup(a){const e=a;return(o,y)=>(t(),s("div",Se,[n("div",{class:ee(["tooltip-box",{"hide-tooltip":!e.text}])},l(e.text),3)]))}});const Ee=w(Ie,[["__scopeId","data-v-7b4952ea"]]),k=a=>(O("data-v-e91ef8af"),a=a(),U(),a),Ae={class:"race-bonuses"},we=k(()=>n("h2",null,"Detalhes",-1)),Ce={key:0,class:"plus-wrapper"},Re=["onClick"],Le={class:"plus"},Te={key:1,class:"minus-wrapper"},Be=["onClick"],Ve={class:"minus"},De={class:"first-title"},Me=k(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),ze={key:0},Ne=k(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),je=k(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),Fe={key:1},qe=k(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),Ge=k(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Pe=k(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),He={key:2},Oe=k(()=>n("h2",null,"Tra\xE7os Raciais",-1)),Ue=A({__name:"RaceBonuses",props:{raceInfo:null},setup(a){const e=a,o=re(),{ability:y}=o;class _{constructor(b,i,S){T(this,"name");T(this,"value");T(this,"description");this.name=b,this.value=i,this.description=S}}const u=te(""),C=P(),{character:R}=C;se(()=>R.race,()=>{u.value=""});const L=g(()=>r("pos")),d=g(()=>r("neg"));function r(f){const b=[];for(const[i,S]of Object.entries(e.raceInfo.habilidades)){const j=new _(y[i].name,S,y[i].description);(f==="pos"&&Math.sign(S)===1||f==="neg"&&Math.sign(S)===-1)&&b.push(j)}return b}const p=g(()=>`${e.raceInfo.idade.toLocaleString("pt-br")} anos`),$=g(()=>e.raceInfo.peso?`${e.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),J=g(()=>{const f=e.raceInfo.altura.min,b=e.raceInfo.altura.max,i=`${b.toLocaleString("pt-br")} ${b<2?"metro":"metros"}`;return f?`Entre ${f.toLocaleString("pt-br")} e ${i}`:i}),K=ie(),N=g(()=>K.creatureSize.get(e.raceInfo.tamanho)),Q=g(()=>`${e.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),W=le(),X=g(()=>e.raceInfo.idiomas.map(b=>W.languages.get(b)).join(", ")),B=g(()=>{const f=e.raceInfo.visao_escuro;return typeof f=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${f.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(f,b)=>(t(),s("section",Ae,[we,n("div",null,[c(L).length>0?(t(),s("div",Ce,[(t(!0),s(v,null,x(c(L),i=>(t(),s("span",{class:"bold span-wrapper",onClick:S=>u.value=i.description},[m(l(i.name)+" ",1),n("span",Le,l(` +${i.value.toString(10)}`),1)],8,Re))),256))])):h("",!0),c(d).length>0?(t(),s("div",Te,[(t(!0),s(v,null,x(c(d),i=>(t(),s("span",{class:"bold span-wrapper",onClick:S=>u.value=i.description},[m(l(i.name)+" ",1),n("span",Ve,l(` -${i.value.toString(10)}`),1)],8,Be))),256))])):h("",!0)]),I(H,{name:"fade",mode:"out-in"},{default:M(()=>[(t(),E(Ee,{text:u.value,key:u.value},null,8,["text"]))]),_:1}),n("div",De,[Me,m(l(c(p)),1)]),c($)?(t(),s("div",ze,[Ne,m(l(c($)),1)])):h("",!0),n("div",null,[je,m(l(c(J)),1)]),c(N)?(t(),s("div",Fe,[qe,m(l(c(N)),1)])):h("",!0),n("div",null,[Ge,m(l(c(Q)),1)]),n("div",null,[Pe,m(l(c(X)),1)]),e.raceInfo.bonus.length>0?(t(),s("div",He,[Oe,I(ne,{name:"fade"},{default:M(()=>[c(B)?(t(),E(G,{bonus:c(B),key:c(B).nome},null,8,["bonus"])):h("",!0),(t(!0),s(v,null,x(e.raceInfo.bonus,i=>(t(),s(v,{key:i.id},[c(R).books.includes(i.livro)?(t(),E(G,{key:0,bonus:i},null,8,["bonus"])):h("",!0)],64))),128))]),_:1})])):h("",!0)]))}});const Je=w(Ue,[["__scopeId","data-v-e91ef8af"]]),z=a=>(O("data-v-7e58c2ce"),a=a(),U(),a),Ke=z(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Qe=z(()=>n("p",{class:"text-line small"},[m("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),m(".")],-1)),We=z(()=>n("p",{class:"text-line small"},"A Ringo escolher\xE1 uma ra\xE7a aleat\xF3ria para voc\xEA.",-1)),Xe={class:"races-area"},Ye=["value"],Ze={class:"button-area"},et=A({__name:"Races",setup(a){const e=P(),{character:o}=e,y=ue(),{races:_}=y,u=F([]);o.books.forEach(d=>{const r=_.get(d);if(r)for(const[p,$]of r.entries())u.push([p,$,d])});const C=F(new Map);u.length>0&&(Promise.all(o.books.map(async d=>{try{const r=await fetch(`/ringo/api/races/book${d.toString(10)}.json`);if(r.status===404)return;const p=await r.json();Array.isArray(p)&&p.forEach($=>C.set($.codigo,$))}catch(r){r instanceof Error&&console.error(r)}})),u.sort((d,r)=>d[1].localeCompare(r[1],"pt-br")));function R(){const d=Math.floor(Math.random()*u.length);o.race.id=u[d][0],o.race.book=u[d][2]}function L(){o.race.id===null&&R(),q.push({name:"create-char-step-3"})}return oe(()=>{const d=r=>o.race.id===r[0]?(o.race.book=r[2],!0):!1;u.some(d)||(o.race.id=null,o.race.book=null)}),(d,r)=>(t(),s("section",null,[Ke,Qe,We,n("div",Xe,[ae(n("select",{"onUpdate:modelValue":r[0]||(r[0]=p=>c(o).race.id=p)},[(t(!0),s(v,null,x(u,p=>(t(),s("option",{key:p[0],value:p[0]},l(p[1]),9,Ye))),128))],512),[[ce,c(o).race.id,void 0,{number:!0}]])]),n("div",Ze,[I(D,{text:"Continuar",disabled:u.length<1,onClick:V(L,["prevent"])},null,8,["disabled","onClick"]),I(D,{text:"Escolha pra mim",disabled:u.length<1,onClick:V(R,["prevent"])},null,8,["disabled","onClick"]),I(D,{text:"Voltar",onClick:r[1]||(r[1]=V(p=>c(q).push({name:"create-char-step-1"}),["prevent"]))})]),I(H,{name:"fade",mode:"out-in"},{default:M(()=>[typeof c(o).race.id=="number"&&C.has(c(o).race.id)?(t(),E(Je,{key:0,raceInfo:C.get(c(o).race.id)},null,8,["raceInfo"])):h("",!0)]),_:1})]))}});const at=w(et,[["__scopeId","data-v-7e58c2ce"]]);export{at as default};
