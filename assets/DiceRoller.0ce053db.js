import{d as B,s as F,o as d,c as m,a as n,w as C,F as T,r as z,u as s,b as e,t as x,T as G,p as L,e as O,_ as V,f as Q,g as N,h as H,n as E,i as D,j as k,k as w,v as W,l as J,m as S,q as P,x as Y,y as M,z as I,A as U,B as A,C as Z}from"./index.c5d189b7.js";import{u as K,B as _,R as X,D as ee,a as te,g as le}from"./Button.b3948be6.js";const oe=o=>(L("data-v-82c2ebeb"),o=o(),O(),o),se={class:"history-area"},ne=oe(()=>e("h2",null,"Hist\xF3rico",-1)),ae=["onClick"],ue={class:"small"},ie=B({__name:"DiceHistory",setup(o){const R=K(),{diceHistory:i}=R,{chosenDice:h,diceAmount:a,modifier:u,rollType:p}=F(R);function c(v){h.value=v.dice,a.value=v.amount,u.value=v.modToSum,p.value=v.type}function $(v){return`${new Date(v).toLocaleTimeString("pt-br")}`}return(v,y)=>(d(),m("section",se,[ne,n(G,{name:"list"},{default:C(()=>[(d(!0),m(T,null,z(s(i),t=>(d(),m("div",{key:t.date,onClick:g=>c(t)},[e("span",null,x(`${t.text} = ${t.finalResult}`),1),e("span",ue,x($(t.date)),1)],8,ae))),128))]),_:1})]))}});const de=V(ie,[["__scopeId","data-v-82c2ebeb"]]),re=B({__name:"BlurBackground",emits:["closeModal"],setup(o){return(R,i)=>(d(),m("div",{class:"blur-bg",onClick:i[0]||(i[0]=Q(h=>R.$emit("closeModal"),["self"]))}))}});const ce=V(re,[["__scopeId","data-v-c40a8daa"]]),ve={class:"result-modal"},_e={key:0},me={class:"roll-type"},pe={class:"rolls"},fe={key:0,class:"other-roll"},ye={key:0,class:"save-area"},xe=["onKeyup"],Re={class:"button-area"},ge=B({__name:"DiceResultModal",props:{rollResult:null},emits:["hideResult","rollAgain"],setup(o,{emit:R}){const i=o,{diceCollection:h}=K(),a=N(!1),u=N(null),p=H(()=>({bold:!0,"green-text":i.rollResult.finalResult===i.rollResult.maxValue,"red-text":i.rollResult.finalResult===i.rollResult.minValue}));function c(y){return{"green-text":y.value===i.rollResult.dice,"red-text":y.value===1}}function $(){a.value=!1,u.value=null,R("rollAgain")}function v(){if(typeof u.value!="string")throw new X("O nome escolhido para a rolagem \xE9 inv\xE1lido.");if(u.value.length===0)return;const{dice:y,amount:t,modToSum:g,type:f}=i.rollResult,b=new ee(y,t,g,f);h.set(u.value,b),a.value=!1,u.value=null}return(y,t)=>{const g=P("focus");return d(),m("div",null,[n(ce,{onCloseModal:t[0]||(t[0]=f=>y.$emit("hideResult"))}),e("div",ve,[e("div",null,[e("div",null,x(o.rollResult.text),1),e("div",{class:E(["final-result",s(p)])},x(o.rollResult.finalResult),3),o.rollResult.type!=="normal"?(d(),m("div",_e,[D(" Rolado com "),e("span",me,x(o.rollResult.type),1)])):k("",!0),e("div",pe,[(d(!0),m(T,null,z(o.rollResult.rolls,f=>(d(),m(T,null,[e("span",{class:E(["each-roll",c(f)])},x(f.value),3),o.rollResult.type!=="normal"?(d(),m("span",fe,x(`(${f.other})`),1)):k("",!0)],64))),256))])]),n(S,{name:"fade",mode:"out-in"},{default:C(()=>[a.value?(d(),m("div",ye,[w(e("input",{"onUpdate:modelValue":t[1]||(t[1]=f=>u.value=f),type:"text",maxlength:"30",placeholder:"Digite um nome",ref:"textInput",onKeyup:J(v,["enter"])},null,40,xe),[[g],[W,u.value,void 0,{trim:!0}]]),n(_,{text:"OK",onClick:v})])):k("",!0)]),_:1}),e("div",Re,[n(_,{text:"Repetir",onClick:$}),n(_,{text:"Salvar",onClick:t[2]||(t[2]=f=>a.value=!0),disabled:a.value},null,8,["disabled"]),n(_,{text:"Voltar",onClick:t[3]||(t[3]=f=>y.$emit("hideResult"))})])])])}}});const he=V(ge,[["__scopeId","data-v-9c67dd5c"]]),j=o=>(L("data-v-e07e78de"),o=o(),O(),o),$e={class:"dice-roller"},ke={class:"result-area"},be={class:"result-text"},Ce={class:"mod-area"},De={class:"mod-row"},we=j(()=>e("span",{class:"bold"},"Quantidade",-1)),Se={class:"bold green-text"},Te={class:"mod-row"},Be=j(()=>e("span",{class:"bold"},"Modificador",-1)),Ve={class:"radio-area"},Me=["disabled"],Ie=["disabled"],Ae=["disabled"],Ne={class:"dice-area"},He=B({__name:"DiceRoller",setup(o){const R=K(),{diceHistory:i,diceTypes:h}=R,{chosenDice:a,diceAmount:u,modifier:p,rollType:c}=F(R),$=Y({width:"80%",height:"3em",fontSize:"1em",fontWeight:550}),v=H(()=>a.value===null?null:le(a.value,u.value,p.value)),y=H(()=>({bold:!0,"green-text":p.value>=0,"red-text":p.value<0})),t=N(null);function g(){if(a.value===null)throw new X("Nenhum dado foi escolhido.");const b=new te(a.value,u.value,p.value,c.value);for(t.value=b;i.length>5;)i.pop();i.unshift(b)}function f(){u.value>1&&u.value--}return(b,l)=>(d(),m("main",$e,[e("div",ke,[e("div",be,[n(S,{name:"fade",mode:"out-in"},{default:C(()=>[s(v)?(d(),m("span",{key:s(v)},x(s(v)),1)):k("",!0)]),_:1})]),n(_,{class:"roll-button",text:"Rolar",disabled:s(a)===null,onClick:g},null,8,["disabled"])]),n(S,{name:"fade",mode:"out-in"},{default:C(()=>[t.value?(d(),A(he,{key:0,rollResult:t.value,onHideResult:l[0]||(l[0]=r=>t.value=null),onRollAgain:g},null,8,["rollResult"])):k("",!0)]),_:1}),e("div",Ce,[e("div",De,[n(_,{text:"X",onClick:l[1]||(l[1]=r=>u.value=1)}),we,n(_,{text:"-",onClick:f}),e("span",Se,x(s(u)),1),n(_,{text:"+",onClick:l[2]||(l[2]=r=>u.value++)})]),e("div",Te,[n(_,{text:"X",onClick:l[3]||(l[3]=r=>p.value=0)}),Be,n(_,{text:"-",onClick:l[4]||(l[4]=r=>p.value--)}),e("span",{class:E(s(y))},x(s(p)),3),n(_,{text:"+",onClick:l[5]||(l[5]=r=>p.value++)})]),e("div",Ve,[e("label",null,[w(e("input",{type:"radio",value:"normal","onUpdate:modelValue":l[6]||(l[6]=r=>I(c)?c.value=r:null),disabled:s(a)!==20},null,8,Me),[[M,s(c)]]),D(" Normal ")]),e("label",null,[w(e("input",{type:"radio",value:"vantagem","onUpdate:modelValue":l[7]||(l[7]=r=>I(c)?c.value=r:null),disabled:s(a)!==20},null,8,Ie),[[M,s(c)]]),D(" Vantagem ")]),e("label",null,[w(e("input",{type:"radio",value:"desvantagem","onUpdate:modelValue":l[8]||(l[8]=r=>I(c)?c.value=r:null),disabled:s(a)!==20},null,8,Ae),[[M,s(c)]]),D(" Desvantagem ")])])]),e("div",Ne,[(d(!0),m(T,null,z(s(h),(r,q)=>(d(),A(_,{style:U($),text:`D${r}`,key:q,onClick:Ee=>a.value=r},null,8,["style","text","onClick"]))),128)),n(_,{text:"Cole\xE7\xE3o",style:U($),onClick:l[9]||(l[9]=r=>s(Z).push({name:"collection"}))},null,8,["style"])]),n(S,{name:"fade",mode:"out-in"},{default:C(()=>[s(i).length>0?(d(),A(de,{key:0})):k("",!0)]),_:1})]))}});const Ue=V(He,[["__scopeId","data-v-e07e78de"]]);export{Ue as default};
