var Y=Object.defineProperty;var Z=(a,e,o)=>e in a?Y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var T=(a,e,o)=>(Z(a,typeof e!="symbol"?e+"":e,o),o);import{d as A,o as t,c as s,b as n,F as v,l as x,t as i,_ as w,m as b,x as m,f as E,y as ee,z as te,u as U,A as se,B as g,a as c,e as S,i as z,T as O,C as ne,p as H,g as J,D as G,E as oe,k as ae,G as ce,w as D,r as q}from"./index.f758c69c.js";import{a as re,b as ie,c as le,u as ue}from"./game.9f2674de.js";import{B as M}from"./Button.7c339811.js";const de={class:"standard-table"},_e={class:"bold green-text"},pe=A({__name:"Table",props:{content:null},setup(a){const e=a;return(o,y)=>(t(),s("table",de,[n("tr",null,[(t(!0),s(v,null,x(e.content.th,p=>(t(),s("th",_e,i(p),1))),256))]),(t(!0),s(v,null,x(e.content.tr,p=>(t(),s("tr",null,[(t(!0),s(v,null,x(p,l=>(t(),s("td",null,i(l),1))),256))]))),256))]))}});const he=w(pe,[["__scopeId","data-v-153ad0f9"]]),fe={class:"standard-desc-list"},be={class:"green-text desc-list-title"},me=A({__name:"DescriptionList",props:{content:null},setup(a){const e=a;return(o,y)=>(t(),s("dl",fe,[(t(!0),s(v,null,x(e.content,p=>(t(),s(v,{key:p[0]},[n("dt",be,i(p[0]),1),n("dd",null,i(p[1]),1)],64))),128))]))}});const ve=w(me,[["__scopeId","data-v-96f5f76d"]]),ge={class:"race-ability"},xe={class:"bold green-text"},ye={class:"race-ability"},ke={key:1,class:"race-ability-details"},$e=A({__name:"RaceAbility",props:{bonus:null},setup(a){const e=a;return(o,y)=>(t(),s("section",null,[n("div",ge,[n("span",xe,i(`${e.bonus.nome}. `),1),b(" "+i(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(v,{key:0},x(e.bonus.extra,p=>(t(),s("div",ye,i(p),1))),256)):m("",!0),e.bonus.detalhes?(t(),s("div",ke,[e.bonus.detalhes.tipo==="table"?(t(),E(he,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),E(ve,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0)])):m("",!0)]))}});const P=w($e,[["__scopeId","data-v-df80e9b9"]]),Ie={class:"tooltip-wrapper"},Se=A({__name:"Tooltip",props:{text:null},setup(a){const e=a;return(o,y)=>(t(),s("div",Ie,[n("div",{class:ee(["tooltip-box",{"hide-tooltip":!e.text}])},i(e.text),3)]))}});const Ee=w(Se,[["__scopeId","data-v-7b4952ea"]]),k=a=>(H("data-v-cc89070b"),a=a(),J(),a),Ae={class:"race-bonuses"},we=k(()=>n("h2",null,"Detalhes",-1)),Ce={key:0,class:"plus-wrapper"},Le=["onClick"],Re={class:"plus"},Te={key:1,class:"minus-wrapper"},Be=["onClick"],Ve={class:"minus"},De={class:"first-title"},Me=k(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),ze={key:0},Ne=k(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),Fe=k(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),je={key:1},Ge=k(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),qe=k(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Pe=k(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),Ue={key:2},Oe=k(()=>n("h2",null,"Tra\xE7os Raciais",-1)),He=A({__name:"RaceBonuses",props:{raceInfo:null},setup(a){const e=a,o=re(),{ability:y}=o;class p{constructor(f,u,$){T(this,"name");T(this,"value");T(this,"description");this.name=f,this.value=u,this.description=$}}const l=te(""),C=U(),{character:B}=C;se(()=>B.race,()=>{l.value=""});const L=g(()=>d("pos")),R=g(()=>d("neg"));function d(h){const f=[];for(const[u,$]of Object.entries(e.raceInfo.habilidades)){const j=new p(y[u].name,$,y[u].description);(h==="pos"&&Math.sign($)===1||h==="neg"&&Math.sign($)===-1)&&f.push(j)}return f}const r=g(()=>`${e.raceInfo.idade.toLocaleString("pt-br")} anos`),_=g(()=>e.raceInfo.peso?`${e.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),I=g(()=>{const h=e.raceInfo.altura.min,f=e.raceInfo.altura.max,u=`${f.toLocaleString("pt-br")} ${f<2?"metro":"metros"}`;return h?`Entre ${h.toLocaleString("pt-br")} e ${u}`:u}),K=ie(),F=g(()=>K.creatureSize.get(e.raceInfo.tamanho)),Q=g(()=>`${e.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),W=le(),X=g(()=>e.raceInfo.idiomas.map(f=>W.languages.get(f)).join(", ")),V=g(()=>{const h=e.raceInfo.visao_escuro;return typeof h=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${h.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(h,f)=>(t(),s("section",Ae,[we,n("div",null,[c(L).length>0?(t(),s("div",Ce,[(t(!0),s(v,null,x(c(L),u=>(t(),s("span",{class:"bold span-wrapper",onClick:$=>l.value=u.description},[b(i(u.name)+" ",1),n("span",Re,i(` +${u.value.toString(10)}`),1)],8,Le))),256))])):m("",!0),c(R).length>0?(t(),s("div",Te,[(t(!0),s(v,null,x(c(R),u=>(t(),s("span",{class:"bold span-wrapper",onClick:$=>l.value=u.description},[b(i(u.name)+" ",1),n("span",Ve,i(` -${u.value.toString(10)}`),1)],8,Be))),256))])):m("",!0)]),S(O,{name:"fade",mode:"out-in"},{default:z(()=>[(t(),E(Ee,{text:l.value,key:l.value},null,8,["text"]))]),_:1}),n("div",De,[Me,b(i(c(r)),1)]),c(_)?(t(),s("div",ze,[Ne,b(i(c(_)),1)])):m("",!0),n("div",null,[Fe,b(i(c(I)),1)]),c(F)?(t(),s("div",je,[Ge,b(i(c(F)),1)])):m("",!0),n("div",null,[qe,b(i(c(Q)),1)]),n("div",null,[Pe,b(i(c(X)),1)]),e.raceInfo.bonus.length>0?(t(),s("div",Ue,[Oe,S(ne,{name:"fade"},{default:z(()=>[c(V)?(t(),E(P,{bonus:c(V),key:c(V).nome},null,8,["bonus"])):m("",!0),(t(!0),s(v,null,x(e.raceInfo.bonus,u=>(t(),E(P,{key:u.id,bonus:u},null,8,["bonus"]))),128))]),_:1})])):m("",!0)]))}});const Je=w(He,[["__scopeId","data-v-cc89070b"]]),N=a=>(H("data-v-74846a22"),a=a(),J(),a),Ke=N(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Qe=N(()=>n("p",{class:"text-line small"},[b("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),b(".")],-1)),We=N(()=>n("p",{class:"text-line small"},"Uma ra\xE7a aleat\xF3ria ser\xE1 escolhida para voc\xEA!",-1)),Xe={class:"races-area"},Ye=["value"],Ze={class:"button-area"},et=A({__name:"Races",setup(a){const e=U(),{character:o}=e,y=ue(),{races:p}=y,l=G([]);o.books.forEach(d=>{const r=p.get(d);if(r)for(const[_,I]of r.entries())l.push([_,I,d])});const C=G(new Map);l.length>0&&(Promise.all(o.books.map(d=>B(d))),l.sort((d,r)=>d[1].localeCompare(r[1],"pt-br")));async function B(d){try{const r=await fetch(`/ringo/api/races/book${d.toString(10)}.json`);if(r.status===404)return;const _=await r.json();Array.isArray(_)&&_.forEach(I=>C.set(I.codigo,I))}catch(r){r instanceof Error&&console.error(r)}}function L(){const d=Math.floor(Math.random()*l.length);o.race.id=l[d][0],o.race.book=l[d][2]}function R(){o.race===null&&L(),q.push({name:"create-char-step-3"})}return oe(()=>{const d=r=>o.race.id===r[0]?(o.race.book=r[2],!0):!1;l.some(d)||(o.race.id=null,o.race.book=null)}),(d,r)=>(t(),s("section",null,[Ke,Qe,We,n("div",Xe,[ae(n("select",{"onUpdate:modelValue":r[0]||(r[0]=_=>c(o).race.id=_)},[(t(!0),s(v,null,x(l,_=>(t(),s("option",{key:_[0],value:_[0]},i(_[1]),9,Ye))),128))],512),[[ce,c(o).race.id,void 0,{number:!0}]])]),n("div",Ze,[S(M,{text:"Continuar",disabled:l.length<1,onClick:D(R,["prevent"])},null,8,["disabled","onClick"]),S(M,{text:"Aleat\xF3rio",disabled:l.length<1,onClick:D(L,["prevent"])},null,8,["disabled","onClick"]),S(M,{text:"Voltar",onClick:r[1]||(r[1]=D(_=>c(q).push({name:"create-char-step-1"}),["prevent"]))})]),S(O,{name:"fade",mode:"out-in"},{default:z(()=>[typeof c(o).race.id=="number"&&C.has(c(o).race.id)?(t(),E(Je,{key:0,raceInfo:C.get(c(o).race.id)},null,8,["raceInfo"])):m("",!0)]),_:1})]))}});const at=w(et,[["__scopeId","data-v-74846a22"]]);export{at as default};
