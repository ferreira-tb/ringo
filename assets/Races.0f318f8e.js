var X=Object.defineProperty;var Y=(o,e,a)=>e in o?X(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a;var R=(o,e,a)=>(Y(o,typeof e!="symbol"?e+"":e,a),a);import{d as E,o as t,c as s,b as n,F as g,l as x,t as r,_ as A,m as b,x as m,f as S,y as Z,z as ee,u as P,A as te,B as v,a as c,e as I,i as M,T as U,C as se,p as O,g as H,D as G,E as ne,k as oe,G as ae,w as D,r as ce}from"./index.81dd36f3.js";import{a as re,b as le,c as ie,u as ue}from"./game.f4d4877c.js";import{B as z}from"./Button.668bbd64.js";const de={class:"standard-table"},_e={class:"bold green-text"},pe=E({__name:"Table",props:{content:null},setup(o){const e=o;return(a,y)=>(t(),s("table",de,[n("tr",null,[(t(!0),s(g,null,x(e.content.th,_=>(t(),s("th",_e,r(_),1))),256))]),(t(!0),s(g,null,x(e.content.tr,_=>(t(),s("tr",null,[(t(!0),s(g,null,x(_,i=>(t(),s("td",null,r(i),1))),256))]))),256))]))}});const he=A(pe,[["__scopeId","data-v-153ad0f9"]]),fe={class:"standard-desc-list"},be={class:"green-text desc-list-title"},me=E({__name:"DescriptionList",props:{content:null},setup(o){const e=o;return(a,y)=>(t(),s("dl",fe,[(t(!0),s(g,null,x(e.content,_=>(t(),s(g,{key:_[0]},[n("dt",be,r(_[0]),1),n("dd",null,r(_[1]),1)],64))),128))]))}});const ge=A(me,[["__scopeId","data-v-96f5f76d"]]),ve={class:"race-ability"},xe={class:"bold green-text"},ye={class:"race-ability"},$e={key:1,class:"race-ability-details"},ke=E({__name:"RaceAbility",props:{bonus:null},setup(o){const e=o;return(a,y)=>(t(),s("section",null,[n("div",ve,[n("span",xe,r(`${e.bonus.nome}. `),1),b(" "+r(e.bonus.efeito),1)]),e.bonus.extra?(t(!0),s(g,{key:0},x(e.bonus.extra,_=>(t(),s("div",ye,r(_),1))),256)):m("",!0),e.bonus.detalhes?(t(),s("div",$e,[e.bonus.detalhes.tipo==="table"?(t(),S(he,{key:0,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0),e.bonus.detalhes.tipo==="description_list"?(t(),S(ge,{key:1,content:e.bonus.detalhes.conteudo},null,8,["content"])):m("",!0)])):m("",!0)]))}});const q=A(ke,[["__scopeId","data-v-df80e9b9"]]),Ie={class:"tooltip-wrapper"},Se=E({__name:"Tooltip",props:{text:null},setup(o){const e=o;return(a,y)=>(t(),s("div",Ie,[n("div",{class:Z(["tooltip-box",{"hide-tooltip":!e.text}])},r(e.text),3)]))}});const Ee=A(Se,[["__scopeId","data-v-7b4952ea"]]),$=o=>(O("data-v-34bcf0c2"),o=o(),H(),o),Ae={class:"race-bonuses"},we=$(()=>n("h2",null,"Detalhes",-1)),Ce={key:0,class:"plus-wrapper"},Te=["onClick"],Le={class:"plus"},Re={key:1,class:"minus-wrapper"},Be=["onClick"],Ve={class:"minus"},De={class:"first-title"},ze=$(()=>n("span",{class:"bold span-title green-text"},"Expectativa de vida:",-1)),Me={key:0},Fe=$(()=>n("span",{class:"bold span-title green-text"},"Peso m\xE9dio:",-1)),Ne=$(()=>n("span",{class:"bold span-title green-text"},"Altura:",-1)),je={key:1},Ge=$(()=>n("span",{class:"bold span-title green-text"},"Tamanho",-1)),qe=$(()=>n("span",{class:"bold span-title green-text"},"Deslocamento:",-1)),Pe=$(()=>n("span",{class:"bold span-title green-text"},"Idiomas:",-1)),Ue={key:2},Oe=$(()=>n("h2",null,"Tra\xE7os Raciais",-1)),He=E({__name:"RaceBonuses",props:{raceInfo:null},setup(o){const e=o,a=re(),{ability:y}=a;class _{constructor(f,l,k){R(this,"name");R(this,"value");R(this,"description");this.name=f,this.value=l,this.description=k}}const i=ee(""),w=P(),{character:B}=w;te(()=>B.race,()=>{i.value=""});const C=v(()=>d("pos")),T=v(()=>d("neg"));function d(h){const f=[];for(const[l,k]of Object.entries(e.raceInfo.habilidades)){const j=new _(y[l].name,k,y[l].description);(h==="pos"&&Math.sign(k)===1||h==="neg"&&Math.sign(k)===-1)&&f.push(j)}return f}const u=v(()=>`${e.raceInfo.idade.toLocaleString("pt-br")} anos`),p=v(()=>e.raceInfo.peso?`${e.raceInfo.peso.toLocaleString("pt-br")} quilos`:null),L=v(()=>{const h=e.raceInfo.altura.min,f=e.raceInfo.altura.max,l=`${f.toLocaleString("pt-br")} ${f<2?"metro":"metros"}`;return h?`Entre ${h.toLocaleString("pt-br")} e ${l}`:l}),J=le(),N=v(()=>J.creatureSize.get(e.raceInfo.tamanho)),K=v(()=>`${e.raceInfo.deslocamento.toLocaleString("pt-br")} metros`),Q=ie(),W=v(()=>e.raceInfo.idiomas.map(f=>Q.languages.get(f)).join(", ")),V=v(()=>{const h=e.raceInfo.visao_escuro;return typeof h=="number"?{nome:"Vis\xE3o no Escuro",efeito:`Voc\xEA enxerga na penumbra a at\xE9 ${h.toLocaleString("pt-br")} metros como se fosse luz plena, e no escuro como se fosse na penumbra. Voc\xEA n\xE3o pode discernir cores no escuro, apenas tons de cinza.`}:null});return(h,f)=>(t(),s("section",Ae,[we,n("div",null,[c(C).length>0?(t(),s("div",Ce,[(t(!0),s(g,null,x(c(C),l=>(t(),s("span",{class:"bold span-wrapper",onClick:k=>i.value=l.description},[b(r(l.name)+" ",1),n("span",Le,r(` +${l.value.toString(10)}`),1)],8,Te))),256))])):m("",!0),c(T).length>0?(t(),s("div",Re,[(t(!0),s(g,null,x(c(T),l=>(t(),s("span",{class:"bold span-wrapper",onClick:k=>i.value=l.description},[b(r(l.name)+" ",1),n("span",Ve,r(` -${l.value.toString(10)}`),1)],8,Be))),256))])):m("",!0)]),I(U,{name:"fade",mode:"out-in"},{default:M(()=>[(t(),S(Ee,{text:i.value,key:i.value},null,8,["text"]))]),_:1}),n("div",De,[ze,b(r(c(u)),1)]),c(p)?(t(),s("div",Me,[Fe,b(r(c(p)),1)])):m("",!0),n("div",null,[Ne,b(r(c(L)),1)]),c(N)?(t(),s("div",je,[Ge,b(r(c(N)),1)])):m("",!0),n("div",null,[qe,b(r(c(K)),1)]),n("div",null,[Pe,b(r(c(W)),1)]),e.raceInfo.bonus.length>0?(t(),s("div",Ue,[Oe,I(se,{name:"fade"},{default:M(()=>[c(V)?(t(),S(q,{bonus:c(V),key:c(V).nome},null,8,["bonus"])):m("",!0),(t(!0),s(g,null,x(e.raceInfo.bonus,l=>(t(),S(q,{key:l.nome,bonus:l},null,8,["bonus"]))),128))]),_:1})])):m("",!0)]))}});const Je=A(He,[["__scopeId","data-v-34bcf0c2"]]),F=o=>(O("data-v-89a4c60a"),o=o(),H(),o),Ke=F(()=>n("p",{class:"text-line"},"Escolha uma ra\xE7a para seu personagem. Ela definir\xE1 sua apar\xEAncia geral e seus talentos naturais.",-1)),Qe=F(()=>n("p",{class:"text-line small"},[b("Se ficar em d\xFAvida, apenas clique em "),n("span",{class:"bold"},"continuar"),b(".")],-1)),We=F(()=>n("p",{class:"text-line small"},"Uma ra\xE7a aleat\xF3ria ser\xE1 escolhida para voc\xEA!",-1)),Xe={class:"races-area"},Ye=["value"],Ze={class:"button-area"},et=E({__name:"Races",setup(o){const e=P(),{character:a}=e,y=ue(),{races:_}=y,i=G([]);a.books.forEach(d=>{const u=_.get(d);u&&i.push(...u.entries())}),i.length>0&&(Promise.all(a.books.map(d=>B(d))),i.sort((d,u)=>d[1].localeCompare(u[1],"pt-br")));const w=G(new Map);async function B(d){try{const u=await fetch(`/ringo/api/races/book${d.toString(10)}.json`);if(u.status===404)return;const p=await u.json();Array.isArray(p)&&p.forEach(L=>w.set(L.codigo,L))}catch(u){u instanceof Error&&console.error(u)}}function C(){const d=Math.floor(Math.random()*i.length);a.race=i[d][0]}function T(){a.race===null&&C()}return ne(()=>{i.some(d=>a.race===d[0])||(a.race=null)}),(d,u)=>(t(),s("section",null,[Ke,Qe,We,n("div",Xe,[oe(n("select",{"onUpdate:modelValue":u[0]||(u[0]=p=>c(a).race=p)},[(t(!0),s(g,null,x(i,p=>(t(),s("option",{key:p[0],value:p[0]},r(p[1]),9,Ye))),128))],512),[[ae,c(a).race,void 0,{number:!0}]])]),n("div",Ze,[I(z,{text:"Continuar",disabled:i.length<1,onClick:D(T,["prevent"])},null,8,["disabled","onClick"]),I(z,{text:"Aleat\xF3rio",disabled:i.length<1,onClick:D(C,["prevent"])},null,8,["disabled","onClick"]),I(z,{text:"Voltar",onClick:u[1]||(u[1]=D(p=>c(ce).push({name:"create-char-step-1"}),["prevent"]))})]),I(U,{name:"fade",mode:"out-in"},{default:M(()=>[typeof c(a).race=="number"&&w.has(c(a).race)?(t(),S(Je,{key:0,raceInfo:w.get(c(a).race)},null,8,["raceInfo"])):m("",!0)]),_:1})]))}});const at=A(et,[["__scopeId","data-v-89a4c60a"]]);export{at as default};
